<!DOCTYPE html>
<html>
  <head>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="css/styles2.css" media="all" />
    <link
      href="https://fonts.googleapis.com/css2?family=Bungee+Shade&display=swap"
      rel="stylesheet"
    />
  </head>
  <body style="background-color: #f0f0f0">
    <!-- page background -->

    <!-- Center column -->
    <div
      style="
        background-color: #fff9e6;
        width: 1200px;
        margin: 0 auto;
        min-height: 100vh;
        border-radius: 50px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3); /* deep shadow for “pop out” effect */
      "
    >
      <!-- Header container -->
      <div style="text-align: center; margin-bottom: 20px; width: 1200px">
        <!-- Title centered -->
        <h1
          style="
            font-family: 'Bungee Shade', cursive;
            font-size: 84px;
            margin-bottom: 50px;
            margin-top: 0px;
            background-color: #fff7c2;
            padding: 30px;
            border-top-left-radius: 50px;
            border-top-right-radius: 50px;
            text-shadow: 0 0 10px #ff4dd2, 0 0 20px #ff99e6, 0 0 40px #ff4dd2;
          "
        >
          Elton John
        </h1>

        <!-- Row with paragraph and image -->
        <div
          style="
            display: grid;
            grid-template-columns: 1fr 1fr; /* fixed column widths */
            align-items: center;
            max-width: 1000px;
            margin: 0 auto;
            margin-bottom: 50px;
            max-height: 450px;
            gap: 50px; /* small gap between text and image */
          "
        >
          <!-- Paragraph on the left -->
          <p
            style="
              background-color: white;
              font-family: Arial;
              font-size: 17px;
              width: 400px; /* fixed width */
              padding: 40px 40px;
              margin-right: 50px;
              margin-left: 20px;
            "
          >
            Sir Elton John is a British singer, songwriter, and pianist whose
            career has spanned more than five decades. Known for his flamboyant
            performances and timeless hits, he has sold over 300 million records
            worldwide and won multiple awards, including Grammys, an Academy
            Award, and a Tony. From iconic albums like Goodbye Yellow Brick Road
            to sold-out world tours, his music has captivated generations of
            fans and influenced countless artists, cementing his status as one
            of the most celebrated figures in modern music history. This
            dashboard explores the remarkable career of Elton John — one of the
            most influential musicians of all time. It focuses on his touring
            history and the evolution of his music, using data to highlight
            patterns and insights that showcase his enduring artistry and
            impact.
          </p>

          <!-- Image on the right -->
          <img
            src="https://dt565gqrz3z7y.cloudfront.net/ce/image/-tL5IuCnaamjp5QVgIq-Ng.jpg"
            alt="Elton John"
            style="width: 320px; height: 400px"
          />
        </div>

        <div style="text-align: center; margin-bottom: 0px; width: 1200px">
          <!-- Title centered -->
          <h2
            style="
              font-family: Arial;
              font-size: 34px;
              margin-top: 0px;
              background-color: #fff7c2;
              padding: 30px;
            "
          >
            World Map of Elton John Concerts
          </h2>
        </div>
        <!-- Vega visualization -->
        <div
          style="
            display: flex;
            justify-content: center;
            margin-top: 0px;
            margin: 0 auto;
            max-width: 1000px;
            padding-bottom: 10px;
            margin-left: 115px;
          "
        >
          <div id="map_traits"></div>
        </div>

        <div
          style="
            position: absolute;
            top: 1570px; /* fixed vertical position */
            width: 1200px; /* fixed width */
            height: 100px; /* fixed height */
            background-color: #fff7c2;
            color: #333;
            font-family: Arial, sans-serif;
            font-size: 34px;
            font-weight: bold;
            text-align: center;
            line-height: 100px; /* vertically center text */
            margin: 0; /* remove any default margins */
          "
        >
          Traits of Elton John's Albums
        </div>
        <div style="text-align: center; margin-bottom: 0px">
          <!-- Title centered -->
          <h2
            style="
              font-family: Arial;
              font-size: 34px;
              margin-top: 0px;
              background-color: #fff7c2;
              padding: 30px;
            "
          >
            What Keys are Elton John's Songs in?
          </h2>
        </div>

        <div
          style="
            display: grid;
            grid-template-columns: 1fr 1fr; /* 2 columns */
            grid-template-rows: 2fr 1fr; /* top row taller than bottom row */
            max-width: 1000px;
            margin: 0 auto;
            margin-bottom: 50px;
            height: 550px; /* total container height */
            gap: 30px; /* optional gap */
          "
        >
          <div style="margin-left: -80px"><div id="mode_pie"></div></div>
          <div style="margin-left: -45px"><div id="key_pie"></div></div>
          <div
            style="
              background-color: #ffffff;
              margin: 0px 40px;
              padding: 30px;
              font-family: Arial;
              font-size: 17px;
              text-align: center;
            "
          >
            The majority of Elton John's songs, a staggering 80.3%, are Major.
            This means most of his music has an uplifting melody.
          </div>
          <div
            style="
              background-color: #ffffff;
              margin: 0px 40px;
              padding: 30px;
              font-family: Arial;
              font-size: 17px;
              text-align: center;
            "
          >
            A large proportion of Elton John's music is written in the key of C.
            This simple key allows Elton to be more creative with his vocals
          </div>
        </div>
        <div style="text-align: center; margin-bottom: 0px">
          <!-- Title centered -->
          <h2
            style="
              font-family: Arial;
              font-size: 34px;
              margin-top: 0px;
              background-color: #fff7c2;
              padding: 30px;
            "
          >
            References
          </h2>
        </div>

        <div
          style="
            max-width: 1000px;
            margin: 0 auto;
            margin-bottom: 50px;
            max-height: 600px;
            display: grid;
            grid-template-columns: 1fr 1fr; /* Correct property */
            gap: 20px; /* Optional: adds space between boxes */
          "
        >
          <div
            style="
              background-color: white;
              font-family: Arial;
              font-size: 16px;
              width: 100%;
              margin-bottom: 40px;
              padding: 20px;
              text-align: left;
            "
          >
            <strong>Designed By Nino Karow</strong><br />
            Credits to David Bodoh, The Bumpkin and Spotify for data.<br />
            Credits to Wikipedia for images.<br />
            This visualisation can be shared and adapted with credit.
          </div>

          <div
            style="
              background-color: white;
              font-family: Arial;
              font-size: 16px;
              width: 100%;
              margin-bottom: 40px;
              padding: 20px;
              text-align: left;
            "
          >
            <strong>Data Sources:</strong><br />
            <a href="https://www.eltonography.com/tours/"
              >https://www.eltonography.com/tours/</a
            ><br />
            <a
              href="https://www.kaggle.com/datasets/thebumpkin/362-elton-john-album-tracks-with-spotify-data?select=EltonJohnAllTracks.csv"
              >https://www.kaggle.com/datasets/thebumpkin/362-elton-john-album-tracks-with-spotify-data?select=EltonJohnAllTracks.csv</a
            ><br />
          </div>
        </div>

        <script type="text/javascript">
          const map_traits_js = "js/map_traits.vg.json";
          const mode_pie_js = "js/mode_pie.vg.json";
          const key_pie_js = "js/key_pie.vg.json";
          const covers = {
            "Tumbleweed Connection":
              "https://upload.wikimedia.org/wikipedia/en/c/c7/Elton_John_-_Tumbleweed_Connection.jpg",
            "Elton John":
              "https://upload.wikimedia.org/wikipedia/en/b/bd/Elton_John_-_Elton_John.jpg",
            "Honky Chateau":
              "https://upload.wikimedia.org/wikipedia/en/f/f0/Elton_John_-_Honky_Ch%C3%A2teau.jpg",
            "Madman Across The Water":
              "https://upload.wikimedia.org/wikipedia/en/d/d4/Elton_John_-_Madman_Across_the_Water.jpg",
            "Goodbye Yellow Brick Road":
              "https://upload.wikimedia.org/wikipedia/en/8/86/Elton_John_-_Goodbye_Yellow_Brick_Road.jpg",
            "Don't Shoot Me I'm Only The Piano Player":
              "https://upload.wikimedia.org/wikipedia/en/6/6e/Elton_John_-_Don%27t_Shoot_Me_I%27m_Only_the_Piano_Player.jpg",
            Caribou:
              "https://upload.wikimedia.org/wikipedia/en/5/54/Elton_John_-_Caribou.jpg",
            "Rock Of The Westies":
              "https://upload.wikimedia.org/wikipedia/en/a/ae/Elton_John_-_Rock_of_the_Westies.jpg",
            "Blue Moves":
              "https://upload.wikimedia.org/wikipedia/en/a/ab/Elton_John_-_Blue_Moves.jpg",
            "A Single Man":
              "https://upload.wikimedia.org/wikipedia/en/9/9d/Elton_John_-_A_Single_Man.jpg",
            "Victim Of Love":
              "https://upload.wikimedia.org/wikipedia/en/a/a9/Album_Victim_of_Love.jpg",
            "21 At 33":
              "https://upload.wikimedia.org/wikipedia/en/d/dc/Album_21_at_33.jpg",
            "The Fox":
              "https://upload.wikimedia.org/wikipedia/en/a/af/The_fox_%28Elton_John_album%29_coverart.jpg",
            "Jump Up!":
              "https://upload.wikimedia.org/wikipedia/en/3/33/Blue_Eyes_-_Elton_John_alt._cover.jpg",
            "Too Low For Zero":
              "https://upload.wikimedia.org/wikipedia/en/c/cd/Too_low_for_zero.JPG",
            "Breaking Hearts":
              "https://upload.wikimedia.org/wikipedia/en/8/8c/Breaking_hearts.JPG",
            "Ice On Fire":
              "https://upload.wikimedia.org/wikipedia/en/b/b7/Ice_on_fire.jpg",
            "Leather Jackets":
              "https://upload.wikimedia.org/wikipedia/en/2/2c/Leather_jackets.JPG",
            "Reg Strikes Back":
              "https://upload.wikimedia.org/wikipedia/en/e/e5/Reg_strikes_back.JPG",
            "Sleeping With The Past":
              "https://upload.wikimedia.org/wikipedia/en/f/f5/Sleeping_with_the_past.JPG",
            "The One":
              "https://upload.wikimedia.org/wikipedia/en/0/0d/Elton_John_-_The_One_cover.jpg",
            "Made In England":
              "https://upload.wikimedia.org/wikipedia/en/7/7b/Sir_John_Elton_Was_Made_In_England.JPEG",
            "The Big Picture":
              "https://upload.wikimedia.org/wikipedia/en/6/60/The_Big_Picture_%28Elton_John_album%29.jpg",
            "Songs From The West Coast":
              "https://upload.wikimedia.org/wikipedia/en/6/6d/Songs_from_the_west_coast.JPG",
            "Peachtree Road":
              "https://upload.wikimedia.org/wikipedia/en/d/d1/Ptr.jpg",
            "The Captain and The Kid":
              "https://upload.wikimedia.org/wikipedia/en/d/d9/Captainkid.jpg",
            "The Union":
              "https://upload.wikimedia.org/wikipedia/en/6/6f/TU_cover.jpg",
            "Wonderful Crazy Night":
              "https://upload.wikimedia.org/wikipedia/en/9/97/Wonderful_Crazy_Night.jpg",
          };
          const map_traits_tooltipOptions = {
            theme: "light", // optional styling theme
            sanitize: (value) => value, // override sanitization to allow custom HTML
            formatTooltip: (datum) => {
              //const datum = value?.datum ?? value;
              // return your handcrafted HTML string using datum fields
              if ("Track" in datum) {
                return `
            <div style="word-wrap: break-word;max-width: 150px; font-family: Arial; font-size: 12px;">
              <img src= ${covers[datum.Album]} width="150">
              <div style="flex: 1;">
                <div><strong>Track:</strong> ${datum.Track}</div><br>
                <div><strong>Album:</strong> ${datum.Album}</div><br>
                <div><strong>${datum.Field}:</strong> ${datum.Score}</div>
              </div>
            </div>
          `;
              }
              if ("Album" in datum) {
                return `
            <div style="word-wrap: break-word;max-width: 150px; font-family: Arial; font-size: 12px;">
              <img src= ${covers[datum.Album]} width="150">
              <div style="flex: 1;">
                <div><strong>Album:</strong> ${datum.Album}</div><br>
                <div><strong>Avg. ${datum.Field}:</strong> ${datum.Avg}</div>
              </div>
            </div>
          `;
              }
              return `
          <div style="font-family: Arial; font-size: 12px;">
            <div style="display: flex; flex-direction: column; gap: 4px;">
              ${Object.entries(datum)
                .map(
                  ([key, value]) => `
                <div><strong>${key}:</strong> ${value}</div>
                `
                )
                .join("")}
            </div>
          </div>
      `;
            },
          };
          const key_pie_tooltipOptions = {
            theme: "light", // optional styling theme
            sanitize: (value) => value, // override sanitization to allow custom HTML
            formatTooltip: (datum) => {
              return `
                      <div style="font-family: Arial; font-size: 12px;">
            <div style="display: flex; flex-direction: column; gap: 4px;">
              <div><strong>Key: </strong>${datum.KeyLetter}</div>
              <div><strong>Proportion: </strong>${datum.count}%</div>

            </div>
          </div>
            `;
            },
          };
          const mode_pie_tooltipOptions = {
            theme: "light", // optional styling theme
            sanitize: (value) => value, // override sanitization to allow custom HTML
            formatTooltip: (datum) => {
              return `
                      <div style="font-family: Arial; font-size: 12px;">
            <div style="display: flex; flex-direction: column; gap: 4px;">
              <div><strong>Mode: </strong>${datum.Mode}</div>
              <div><strong>Proportion: </strong>${datum.count}%</div>

            </div>
          </div>
      `;
            },
          };

          vegaEmbed("#map_traits", map_traits_js, {
            actions: false,
            tooltip: map_traits_tooltipOptions,
          })
            .then(function (result) {
              // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            })
            .catch(console.error);

          vegaEmbed("#mode_pie", mode_pie_js, {
            actions: false,
            tooltip: mode_pie_tooltipOptions,
          })
            .then(function (result) {
              // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            })
            .catch(console.error);

          vegaEmbed("#key_pie", key_pie_js, {
            actions: false,
            tooltip: key_pie_tooltipOptions,
          })
            .then(function (result) {
              // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            })
            .catch(console.error);
        </script>
      </div>
    </div>
  </body>
</html>
